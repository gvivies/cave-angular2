<h1>
  Liste des bouteilles
</h1>
<div class="command-bar">
  <button type="button" class="btn btn-primary" (click)="create()" data-toggle="modal" data-target="#myModal">Ajouter des bouteilles</button>
  <button type="button" class="btn btn-refresh" (click)="refresh()" >Rafraichir</button>
</div>
<app-bottle *ngIf="selectedItem" [add]="addMode" [item]="selectedItem" (save)="onSavedBottle($event)"></app-bottle>
<table class="table table-hover table-striped">
  <th class="col-header">Nom</th>
  <th class="col-header">Vin</th>
  <th class="col-header">Région</th>
  <th class="col-header">Type</th>
  <th class="text-centered">Quantité</th>
  <th></th>
  <th class="text-centered">Millésime</th>
  <th class="text-centered">A boire en</th>
  <th class="text-centered">Jusqu'en</th>
  <th></th>
  <th></th>
  <tr *ngFor="let bottle of bottles | NameSort:'name'">
    <td>{{bottle.name}}</td>
    <td>{{bottle.wine?.name}}</td>
    <td>{{bottle.wine?.region?.name}}</td>
    <td>{{bottle.classification?.name}}</td>
    <td class="text-centered">{{bottle.quantity}}</td>
    <td class="table-action" aria-hidden="true" (click)="drinkOne(bottle)">
      <span class="glyphicon glyphicon-glass"></span>
    </td>
    <td class="text-centered">{{bottle.year}}</td>
    <td class="text-centered">{{bottle.yearMin}}</td>
    <td class="text-centered">{{bottle.yearMax}}</td>
    <td class="table-action" aria-hidden="true" (click)="update(bottle)" data-toggle="modal" data-target="#myModal">
        <span class="glyphicon glyphicon-pencil"></span>
    </td>
    <td class="table-action" aria-hidden="true" (click)="remove(bottle)">
        <span class="glyphicon glyphicon-trash" ></span>
    </td>
  </tr>

</table>
